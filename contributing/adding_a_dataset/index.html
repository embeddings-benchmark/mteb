
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../adding_a_model/">
      
      
        <link rel="next" href="../adding_a_benchmark/">
      
      
        
      
      
      <link rel="icon" href="../../images/logos/mteb_logo/dots-icon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Adding a Task - Massive Text Embedding Benchmark</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#adding-a-dataset" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Massive Text Embedding Benchmark" class="md-header__button md-logo" aria-label="Massive Text Embedding Benchmark" data-md-component="logo">
      
  <img src="../../images/logos/mteb_logo/dots-icon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Massive Text Embedding Benchmark
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Adding a Task
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="light-blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="light-blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/embeddings-benchmark/mteb" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../.." class="md-tabs__link">
          
  
  
    
  
  Get Started

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../adding_a_model/" class="md-tabs__link">
          
  
  
    
  
  Contributing

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../overview/" class="md-tabs__link">
          
  
  
    
  
  Overview

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../api/" class="md-tabs__link">
          
  
  
    
  
  API

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="https://huggingface.co/spaces/mteb/leaderboard" class="md-tabs__link">
        
  
  
    
  
  Leaderboard

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Massive Text Embedding Benchmark" class="md-nav__button md-logo" aria-label="Massive Text Embedding Benchmark" data-md-component="logo">
      
  <img src="../../images/logos/mteb_logo/dots-icon.png" alt="logo">

    </a>
    Massive Text Embedding Benchmark
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/embeddings-benchmark/mteb" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../.." class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Get Started
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Get Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whats_new/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    What's New
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_4" >
        
          
          <label class="md-nav__link" for="__nav_1_4" id="__nav_1_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Usage
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Usage
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/get_started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Get Started
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/defining_the_model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Defining the Model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/selecting_tasks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Selecting Tasks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/running_the_evaluation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Running the Evaluation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/loading_results/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Loading Results
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Command Line Interface
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/leaderboard/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Running the Leaderboard
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_5" >
        
          
          <label class="md-nav__link" for="__nav_1_5" id="__nav_1_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Advanced Usage
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Advanced Usage
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced_usage/two_stage_reranking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Two stage reranking
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced_usage/cache_embeddings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cache embeddings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced_usage/retrieval_backend/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Retrieval backend
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced_usage/vllm_wrapper/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    vLLM Wrapper
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Contributing
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adding_a_model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Adding a Model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Adding a Task
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Adding a Task
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#implement-a-new-task" class="md-nav__link">
    <span class="md-ellipsis">
      
        Implement a new task
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Implement a new task">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview-of-the-task" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview of the task
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#select-an-appropriate-task" class="md-nav__link">
    <span class="md-ellipsis">
      
        Select an appropriate task
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementing-the-task" class="md-nav__link">
    <span class="md-ellipsis">
      
        Implementing the task
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filling-out-the-taskmetadata" class="md-nav__link">
    <span class="md-ellipsis">
      
        Filling out the TaskMetadata
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pushing-the-dataset-to-the-hub" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pushing the dataset to the hub
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-pull-request" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create a Pull Request
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Create a Pull Request">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#calculate-descriptive-statistics" class="md-nav__link">
    <span class="md-ellipsis">
      
        Calculate descriptive statistics
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#submit-a-pull-request" class="md-nav__link">
    <span class="md-ellipsis">
      
        Submit a Pull Request
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adding_a_benchmark/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Adding a Benchmark
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CONTRIBUTING/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing to mteb
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../overview/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Overview
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Benchmarks
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Benchmarks
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_benchmarks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Available Benchmarks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Tasks
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tasks
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_3_1" id="__nav_3_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Available Tasks
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Available Tasks
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_tasks/any2anymultilingualretrieval/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Any2AnyMultilingualRetrieval
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_tasks/any2anyretrieval/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Any2AnyRetrieval
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_tasks/audioclassification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AudioClassification
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_tasks/audioclustering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AudioClustering
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_tasks/audiomultilabelclassification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AudioMultilabelClassification
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_tasks/audiopairclassification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AudioPairClassification
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_tasks/audioreranking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AudioReranking
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_tasks/audiozeroshotclassification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AudioZeroshotClassification
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_tasks/bitextmining/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    BitextMining
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_tasks/classification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Classification
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_tasks/clustering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Clustering
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_tasks/compositionality/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Compositionality
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_tasks/documentunderstanding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DocumentUnderstanding
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_tasks/imageclassification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ImageClassification
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_tasks/imageclustering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ImageClustering
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_tasks/instructionreranking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    InstructionReranking
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_tasks/instructionretrieval/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    InstructionRetrieval
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_tasks/multilabelclassification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MultilabelClassification
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_tasks/pairclassification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PairClassification
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_tasks/regression/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Regression
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_tasks/reranking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Reranking
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_tasks/retrieval/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Retrieval
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_tasks/sts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    STS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_tasks/summarization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Summarization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_tasks/visioncentricqa/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    VisionCentricQA
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_tasks/visualsts%28eng%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    VisualSTS(eng)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_tasks/visualsts%28multi%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    VisualSTS(multi)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_tasks/zeroshotclassification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ZeroShotClassification
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Models
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Models
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4_1" >
        
          
          <label class="md-nav__link" for="__nav_3_4_1" id="__nav_3_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Available Models
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Available Models
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_models/audio/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Audio Model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_models/audio_image_text/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Audio-image-text Model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_models/audio_text/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Audio-text Model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_models/image/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Image Model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_models/image_text/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Image-text Model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/available_models/text/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Text Model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    API
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    API
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/evaluation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Evaluation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/benchmark/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Benchmark
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/task/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Task
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/results/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Results
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Additional Types
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://huggingface.co/spaces/mteb/leaderboard" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Leaderboard
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#implement-a-new-task" class="md-nav__link">
    <span class="md-ellipsis">
      
        Implement a new task
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Implement a new task">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview-of-the-task" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview of the task
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#select-an-appropriate-task" class="md-nav__link">
    <span class="md-ellipsis">
      
        Select an appropriate task
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementing-the-task" class="md-nav__link">
    <span class="md-ellipsis">
      
        Implementing the task
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filling-out-the-taskmetadata" class="md-nav__link">
    <span class="md-ellipsis">
      
        Filling out the TaskMetadata
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pushing-the-dataset-to-the-hub" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pushing the dataset to the hub
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-pull-request" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create a Pull Request
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Create a Pull Request">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#calculate-descriptive-statistics" class="md-nav__link">
    <span class="md-ellipsis">
      
        Calculate descriptive statistics
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#submit-a-pull-request" class="md-nav__link">
    <span class="md-ellipsis">
      
        Submit a Pull Request
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/embeddings-benchmark/mteb/blob/main/docs/contributing/adding_a_dataset.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/embeddings-benchmark/mteb/raw/main/docs/contributing/adding_a_dataset.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<h1 id="adding-a-dataset">Adding a Dataset<a class="headerlink" href="#adding-a-dataset" title="Permanent link">&para;</a></h1>
<p>To add a new dataset to MTEB, you need to do four things:</p>
<ol>
<li><strong>Implement a new task</strong>: Implement a task with the desired dataset, by subclassing an abstract task</li>
<li><strong>Fill out the metadata</strong> describing the task, main scores, languages etc.</li>
<li><strong>Calculate descriptive statistics</strong>, which is used to detect duplicates, few number of samples or very short documents</li>
<li><strong>Submit a Pull Request</strong> of the edits to the <a href="https://github.com/embeddings-benchmark/mteb/blob/main">MTEB</a> repository</li>
</ol>
<p>We go through these steps below, but if you have any questions regarding this process feel free to open a discussion <a href="https://github.com/embeddings-benchmark/mteb/discussions">thread</a>. It is also reasonable to look at <a href="https://github.com/embeddings-benchmark/mteb/tree/main/mteb/tasks">tasks already implemented</a> to get an idea about the structure.</p>
<h2 id="implement-a-new-task">Implement a new task<a class="headerlink" href="#implement-a-new-task" title="Permanent link">&para;</a></h2>
<h3 id="overview-of-the-task">Overview of the task<a class="headerlink" href="#overview-of-the-task" title="Permanent link">&para;</a></h3>
<p>Implementing a task in <code>mteb</code>, typically has the following structure:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">mteb.abstasks.task_metadata</span><span class="w"> </span><span class="kn">import</span> <span class="n">TaskMetadata</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">mteb.abstasks.classification</span><span class="w"> </span><span class="kn">import</span> <span class="n">AbsTaskClassification</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyNewTask</span><span class="p">(</span><span class="n">AbsTaskClassification</span><span class="p">):</span>
    <span class="c1"># metadata contains information such as title, description, metrics etc.</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="n">TaskMetadata</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>

    <span class="c1"># task specific setting e.g. specifying the column names</span>
    <span class="n">label_column_name</span> <span class="o">=</span> <span class="s2">&quot;label&quot;</span>
    <span class="n">input_column_name</span> <span class="o">=</span> <span class="s2">&quot;text&quot;</span>

    <span class="c1"># This is the function that loads the dataset, this is typically untouched</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">load_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_proc</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataset</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span>
            <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">dataset</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataset_transform</span><span class="p">()</span> <span class="c1"># optional processing</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_loaded</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="c1"># dataset transform, which allow you to process the dataset</span>
    <span class="c1"># including downsampling, filtering etc.</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">dataset_transform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_proc</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># some processing</span>
        <span class="o">...</span>
</code></pre></div>
<h3 id="select-an-appropriate-task">Select an appropriate task<a class="headerlink" href="#select-an-appropriate-task" title="Permanent link">&para;</a></h3>
<p>To add a dataset you first need to figure out which type of task is the best suited for the dataset. Below we will give you an overview of the most common,
but do see <a href="../../api/task/#multimodal-tasks">abstasks</a> for an overview of all the tasks available.</p>
<table>
<thead>
<tr>
<th>Task (Abstask)</th>
<th>Description</th>
<th>Common Metric</th>
</tr>
</thead>
<tbody>
<tr>
<td>Classification, <a class="autorefs autorefs-internal" title="&lt;code&gt;mteb.abstasks.classification.AbsTaskClassification&lt;/code&gt;" href="../../api/task/#mteb.abstasks.classification.AbsTaskClassification"><code>AbsTaskClassification</code></a></td>
<td>Fits a classifier on the embeddings derived from the model. The goal is to predict the labels correctly. This does not change the weights of the model itself. See also classes for <a class="autorefs autorefs-internal" title="&lt;code&gt;mteb.abstasks.multilabel_classification.AbsTaskMultilabelClassification&lt;/code&gt;" href="../../api/task/#mteb.abstasks.multilabel_classification.AbsTaskMultilabelClassification">multi label classification</a>, <a class="autorefs autorefs-internal" title="&lt;code&gt;mteb.abstasks.regression.AbsTaskRegression&lt;/code&gt;" href="../../api/task/#mteb.abstasks.regression.AbsTaskRegression">regression</a> and <a class="autorefs autorefs-internal" title="&lt;code&gt;mteb.abstasks.pair_classification.AbsTaskPairClassification&lt;/code&gt;" href="../../api/task/#mteb.abstasks.pair_classification.AbsTaskPairClassification">pair classification</a>.</td>
<td><a href="https://en.wikipedia.org/wiki/Accuracy_and_precision">accuracy</a></td>
</tr>
<tr>
<td>Clustering, <a class="autorefs autorefs-internal" title="&lt;code&gt;mteb.abstasks.clustering.AbsTaskClustering&lt;/code&gt;" href="../../api/task/#mteb.abstasks.clustering.AbsTaskClustering"><code>AbsTaskClustering</code></a></td>
<td>Cluster documents based on their embeddings. The goal is to cluster documents according to predefined categories. Support clustering in multiple hierarchies.</td>
<td><a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.v_measure_score.html">v_measure</a></td>
</tr>
<tr>
<td>Retrieval, <a class="autorefs autorefs-internal" title="&lt;code&gt;mteb.abstasks.retrieval.AbsTaskRetrieval&lt;/code&gt;" href="../../api/task/#mteb.abstasks.retrieval.AbsTaskRetrieval"><code>AbsTaskRetrieval</code></a></td>
<td>Retrieval tasks include a corpus from which you retrieve from using a query. The goal is to retrieve relevant documents. See also <a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;convert_to_reranking&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;top_ranked_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;top_k&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;" href="../../api/task/#mteb.abstasks.retrieval.AbsTaskRetrieval.convert_to_reranking"><code>convert_to_reranking</code></a> for how to convert a retrieval task into a reranking task.</td>
<td><a href="https://en.wikipedia.org/wiki/Discounted_cumulative_gain#Normalized_DCG">ndcg_at_10</a></td>
</tr>
<tr>
<td>Semantic Text Similarity, <a class="autorefs autorefs-internal" title="&lt;code&gt;mteb.abstasks.sts.AbsTaskSTS&lt;/code&gt;" href="../../api/task/#mteb.abstasks.sts.AbsTaskSTS"><code>AbsTaskSTS</code></a></td>
<td>Compares the (semantic) similarity of pairs of documents. The goal is to embed documents such that semantically similar statements appear close.</td>
<td><a href="https://en.wikipedia.org/wiki/Spearman%27s_rank_correlation_coefficient">spearman</a></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>While each task has a main score we compute multiple and it is possible to select any of these are the main metric for your task.</p>
</div>
<h3 id="implementing-the-task">Implementing the task<a class="headerlink" href="#implementing-the-task" title="Permanent link">&para;</a></h3>
<p>Once we have decided on task, we can implement them as follows:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:4"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><input id="__tabbed_1_4" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Classification</label><label for="__tabbed_1_2">Clustering</label><label for="__tabbed_1_3">Retrieval</label><label for="__tabbed_1_4">Multilingual Semantic Similarity</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>For our classification task we use the <a href="https://huggingface.co/datasets/mteb/poem_sentiment">poem sentiment</a> dataset, which consist of verses
with four labels 0 (negative), 1 (positive), 2 (no_impact) and 3 (mixed). Let us say that we just want to look at the labels 0 and 1.</p>
<p>We can then implement the task as follows:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">mteb</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">mteb.abstasks</span><span class="w"> </span><span class="kn">import</span> <span class="n">AbsTaskClassification</span>


<span class="k">class</span><span class="w"> </span><span class="nc">MyClassificationtask</span><span class="p">(</span><span class="n">AbsTaskClassification</span><span class="p">):</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="n">mteb</span><span class="o">.</span><span class="n">TaskMetadata</span><span class="p">(</span>  <span class="c1"># minimal metadata</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;MyClassificationTask&quot;</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A dummy classification task based on poems sentiment classification.&quot;</span><span class="p">,</span>
        <span class="n">main_score</span><span class="o">=</span><span class="s2">&quot;accuracy&quot;</span><span class="p">,</span>
        <span class="n">eval_langs</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;eng-Latn&quot;</span><span class="p">],</span>
        <span class="n">eval_splits</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;test&quot;</span><span class="p">],</span>
        <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;Classification&quot;</span><span class="p">,</span>
        <span class="n">dataset</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;mteb/poem_sentiment&quot;</span><span class="p">,</span>
            <span class="s2">&quot;revision&quot;</span><span class="p">:</span> <span class="s2">&quot;9fdc57b89ccc09a8d9256f376112d626878e51a7&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="n">prompt</span><span class="o">=</span><span class="s2">&quot;Classify poem verses as positive or negative&quot;</span>
    <span class="p">)</span>

    <span class="n">label_column_name</span> <span class="o">=</span> <span class="s2">&quot;label&quot;</span>
    <span class="n">input_column_name</span> <span class="o">=</span> <span class="s2">&quot;text&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">dataset_transform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_proc</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># filter to only include label 1 positive and label 0 negative</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataset</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
            <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">label_column_name</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">num_proc</span><span class="o">=</span><span class="n">num_proc</span>
        <span class="p">)</span>
</code></pre></div>
<p>Once we have the task we can then test to make sure that everything works as intended:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># ensure that the dataset can be loaded and transformed properly</span>
<span class="n">task</span> <span class="o">=</span> <span class="n">MyClassificationtask</span><span class="p">()</span>
<span class="n">task</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">task</span><span class="o">.</span><span class="n">dataset</span><span class="p">[</span><span class="s2">&quot;test&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span> <span class="c1"># check one of the samples:</span>
<span class="c1"># {&#39;id&#39;: 1, &#39;text&#39;: &#39;shall yet be glad for him, and he shall bless&#39;, &#39;label&#39;: 1}</span>

<span class="c1"># ensure that we can evaluate the model on the task</span>
<span class="n">mdl</span> <span class="o">=</span> <span class="n">mteb</span><span class="o">.</span><span class="n">get_model</span><span class="p">(</span><span class="s2">&quot;mteb/baseline-random-encoder&quot;</span><span class="p">)</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">mteb</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">mdl</span><span class="p">,</span> <span class="n">task</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_score</span><span class="p">())</span>  <span class="c1"># print the accuracy score of the random baseline</span>
<span class="c1"># 0.49428571428571433</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>For our classification task we use the <a href="https://huggingface.co/datasets/mteb/SwednClusteringP2P">swedn</a> dataset of Swedish newspapers
along four main categories. It contains three splits "headlines", "articles" and "summaries", here we will look at the headlines only.</p>
<p>The clustering task performs multiple experiments to get a more consistent estimate and reports the average. Here we set it to 10 experiments
using 1000 samples, but typically you would set it higher. Using the default is also a reasonable idea.</p>
<p>We can then implement the task as follows:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">mteb</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">mteb.abstasks</span><span class="w"> </span><span class="kn">import</span> <span class="n">AbsTaskClustering</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyClusteringTask</span><span class="p">(</span><span class="n">AbsTaskClustering</span><span class="p">):</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="n">mteb</span><span class="o">.</span><span class="n">TaskMetadata</span><span class="p">(</span>  <span class="c1"># minimal metadata</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;MyClusteringTask&quot;</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A dummy clustering task on swedish news articles&quot;</span><span class="p">,</span>
        <span class="n">main_score</span><span class="o">=</span><span class="s2">&quot;v_measure&quot;</span><span class="p">,</span>
        <span class="n">eval_langs</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;swe-Latn&quot;</span><span class="p">],</span>
        <span class="n">eval_splits</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;headlines&quot;</span><span class="p">],</span>  <span class="c1"># just use the headlines split for evaluation</span>
        <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;Clustering&quot;</span><span class="p">,</span>
        <span class="n">dataset</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;mteb/SwednClusteringP2P&quot;</span><span class="p">,</span>
            <span class="s2">&quot;revision&quot;</span><span class="p">:</span> <span class="s2">&quot;f8dbf10ec231cc25e9f63454d5cd2d90af95e5f8&quot;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">)</span>

    <span class="n">label_column_name</span> <span class="o">=</span> <span class="s2">&quot;labels&quot;</span>
    <span class="n">input_column_name</span> <span class="o">=</span> <span class="s2">&quot;sentences&quot;</span>
    <span class="n">n_clusters</span> <span class="o">=</span> <span class="mi">10</span>  <span class="c1"># number of clustering experiments to run</span>
    <span class="n">max_documents_per_cluster</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mi">1000</span>  <span class="c1"># numberof documents to sample per each clustering experiment</span>
    <span class="p">)</span>
</code></pre></div>
<p>Once we have the task we can then test to make sure that everything works as intended:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># ensure that the dataset can be loaded and transformed properly</span>
<span class="n">task</span> <span class="o">=</span> <span class="n">MyClusteringTask</span><span class="p">()</span>
<span class="n">task</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">task</span><span class="o">.</span><span class="n">dataset</span><span class="p">[</span><span class="s2">&quot;headlines&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>  <span class="c1"># check one of the samples:</span>
<span class="c1"># {&#39;sentences&#39;: &#39;Ryssland kritiserar utkade Irak-sanktioner&#39;, &#39;labels&#39;: &#39;domestic news&#39;}</span>

<span class="c1"># ensure that we can evaluate the model on the task</span>
<span class="n">mdl</span> <span class="o">=</span> <span class="n">mteb</span><span class="o">.</span><span class="n">get_model</span><span class="p">(</span><span class="s2">&quot;mteb/baseline-random-encoder&quot;</span><span class="p">)</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">mteb</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">mdl</span><span class="p">,</span> <span class="n">task</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_score</span><span class="p">())</span>  <span class="c1"># print the v_measure score of the random baseline</span>
<span class="c1"># 0.006444026234557669</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>For our retrieval dataset we use the a dataset consisting of <a href="https://huggingface.co/datasets/mteb/CQADupstackAndroidRetrieval">android-related questions and answer</a>. The dataset consist of a corpus of questions and a set of queries, where each query has a set of relevant documents in the corpus. The goal is to retrieve the relevant documents for each query.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">mteb</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">mteb.abstasks</span><span class="w"> </span><span class="kn">import</span> <span class="n">AbsTaskRetrieval</span>


<span class="k">class</span><span class="w"> </span><span class="nc">MyRetrievalTask</span><span class="p">(</span><span class="n">AbsTaskRetrieval</span><span class="p">):</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="n">mteb</span><span class="o">.</span><span class="n">TaskMetadata</span><span class="p">(</span>  <span class="c1"># minimal metadata</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;MyRetrievalTask&quot;</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A dummy retrieval task on a community question-answering dataset on android-related questions.&quot;</span><span class="p">,</span>
        <span class="n">main_score</span><span class="o">=</span><span class="s2">&quot;ndcg_at_10&quot;</span><span class="p">,</span>
        <span class="n">eval_langs</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;eng-Latn&quot;</span><span class="p">],</span>
        <span class="n">eval_splits</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;test&quot;</span><span class="p">],</span>
        <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;Retrieval&quot;</span><span class="p">,</span>
        <span class="n">dataset</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;mteb/CQADupstackAndroidRetrieval&quot;</span><span class="p">,</span>
            <span class="s2">&quot;revision&quot;</span><span class="p">:</span> <span class="s2">&quot;9be4c0e46342e8e3aff577a89b9a1ec9bc6b4af3&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="n">prompt</span><span class="o">=</span><span class="s2">&quot;Given a question, retrieve the most relevant question from the corpus.&quot;</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
<p>Once we have the task we can then test to make sure that everything works as intended:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># ensure that the dataset can be loaded without errors</span>
<span class="n">task</span> <span class="o">=</span> <span class="n">MyRetrievalTask</span><span class="p">()</span>
<span class="n">task</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>

<span class="n">test_set</span> <span class="o">=</span> <span class="n">task</span><span class="o">.</span><span class="n">dataset</span><span class="p">[</span><span class="s2">&quot;default&quot;</span><span class="p">][</span><span class="s2">&quot;test&quot;</span><span class="p">]</span>  <span class="c1"># default unless there are multiple subsets</span>
<span class="nb">print</span><span class="p">(</span><span class="n">test_set</span><span class="p">[</span><span class="s2">&quot;corpus&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>  <span class="c1"># print the first item in the corpus</span>
<span class="c1"># {&#39;id&#39;: &#39;51829&#39;, &#39;title&#39;: &#39;How can show android tablet as a external storage to PC?&#39;, &#39;text&#39;: &quot;I want to send files to android tablet ...&quot;}</span>
<span class="nb">print</span><span class="p">(</span><span class="n">test_set</span><span class="p">[</span><span class="s2">&quot;queries&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>  <span class="c1"># print the first query</span>
<span class="c1"># {&#39;id&#39;: &#39;11546&#39;, &#39;text&#39;: &#39;Android chroot ubuntu - is it possible to get ubuntu to recognise usb devices&#39;}</span>
<span class="n">test_set</span><span class="p">[</span><span class="s2">&quot;relevant_docs&quot;</span><span class="p">][</span><span class="s2">&quot;11546&quot;</span><span class="p">]</span>  <span class="c1"># print the relevant documents for the first query</span>
<span class="c1"># {&#39;18572&#39;: 1}</span>

<span class="c1"># ensure that we can evaluate the model on the task</span>
<span class="n">mdl</span> <span class="o">=</span> <span class="n">mteb</span><span class="o">.</span><span class="n">get_model</span><span class="p">(</span><span class="s2">&quot;mteb/baseline-random-encoder&quot;</span><span class="p">)</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">mteb</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">mdl</span><span class="p">,</span> <span class="n">task</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_score</span><span class="p">())</span>  <span class="c1"># print the ndcg_at_10 score of the random baseline</span>
<span class="c1"># 0.021194685839832323</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>We kick up the notch here an do a multilingual example using a <a href="https://huggingface.co/datasets/mteb/IndicCrosslingualSTS">Indic Cross-lingual semantic similarity corpus</a>. We will use just three of the languages as an example, but we can easily add more. The subsets on huggingface we will
be using is "en-as", "en-bn", and "en-gu". The dataset consist of pairs of sentences between English and an Indic language which are rated based
on their similarity on a score from 0-5.</p>
<p>We will implement this as follows:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">mteb</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">mteb.abstasks</span><span class="w"> </span><span class="kn">import</span> <span class="n">AbsTaskSTS</span>


<span class="k">class</span><span class="w"> </span><span class="nc">MySTSTask</span><span class="p">(</span><span class="n">AbsTaskSTS</span><span class="p">):</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="n">mteb</span><span class="o">.</span><span class="n">TaskMetadata</span><span class="p">(</span>  <span class="c1"># minimal metadata</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;MySTSTask&quot;</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A dummy STS task on a cross-lingual dataset between English and 3 indic languages&quot;</span><span class="p">,</span>
        <span class="n">main_score</span><span class="o">=</span><span class="s2">&quot;spearman&quot;</span><span class="p">,</span>
        <span class="c1"># for multilingual tasks, we need to specify the eval_langs as a mapping between the huggingface subset (e.g. &quot;en-as&quot;)</span>
        <span class="c1"># and their respective language codes in the dataset.</span>
        <span class="n">eval_langs</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;en-as&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;eng-Latn&quot;</span><span class="p">,</span> <span class="s2">&quot;asm-Beng&quot;</span><span class="p">],</span>
            <span class="s2">&quot;en-bn&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;eng-Latn&quot;</span><span class="p">,</span> <span class="s2">&quot;ben-Beng&quot;</span><span class="p">],</span>
            <span class="s2">&quot;en-gu&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;eng-Latn&quot;</span><span class="p">,</span> <span class="s2">&quot;guj-Gujr&quot;</span><span class="p">],</span>
        <span class="p">},</span>
        <span class="n">eval_splits</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;test&quot;</span><span class="p">],</span>
        <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;STS&quot;</span><span class="p">,</span>
        <span class="n">dataset</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;mteb/IndicCrosslingualSTS&quot;</span><span class="p">,</span>
            <span class="s2">&quot;revision&quot;</span><span class="p">:</span> <span class="s2">&quot;217bb120770a619b091d77aa06421a770821b22b&quot;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">)</span>

    <span class="n">column_names</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;sentence1&quot;</span><span class="p">,</span> <span class="s2">&quot;sentence2&quot;</span><span class="p">)</span>
    <span class="n">min_score</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">max_score</span> <span class="o">=</span> <span class="mi">5</span>
</code></pre></div>
<p>Once we have the task we can then test to make sure that everything works as intended:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># ensure that the dataset can be loaded without errors</span>
<span class="n">task</span> <span class="o">=</span> <span class="n">MySTSTask</span><span class="p">()</span>
<span class="n">task</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">task</span><span class="o">.</span><span class="n">dataset</span><span class="p">[</span><span class="s2">&quot;en-gu&quot;</span><span class="p">][</span><span class="s2">&quot;test&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>  <span class="c1"># check one of the samples:</span>
<span class="c1"># {&#39;sentence1&#39;: &#39;Akrund is a small village in Dhansura Taluka of Aravalli district of northern Gujarat in western India.&#39;, &#39;sentence2&#39;: &#39;                   .&#39;, &#39;score&#39;: 1.0}</span>

<span class="c1"># ensure that we can evaluate the model on the task</span>
<span class="n">mdl</span> <span class="o">=</span> <span class="n">mteb</span><span class="o">.</span><span class="n">get_model</span><span class="p">(</span><span class="s2">&quot;mteb/baseline-random-encoder&quot;</span><span class="p">)</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">mteb</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">mdl</span><span class="p">,</span> <span class="n">task</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_score</span><span class="p">())</span>  <span class="c1"># print the spearman score of the random baseline</span>
<span class="c1"># 0.021194685839832323</span>
</code></pre></div>
</div>
</div>
</div>
<details class="example">
<summary>Overwriting <code>load_data</code></summary>
<p>While we do not recommend overwriting <code>load_data</code> it can often be useful, when developing tasks and can also be used in conjunction with
<a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;push_dataset_to_hub&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;repo_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num_proc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;push_eval&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;" href="../../api/task/#mteb.AbsTask.push_dataset_to_hub"><code>push_dataset_to_hub</code></a> to push datasets to the hub in the correct format.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Classification</label><label for="__tabbed_2_2">Retrieval</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>For our classification task we use a dummy dataset consisting of two samples with labels 0 and 1. We can implement the task as follows:
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">mteb</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">mteb.abstasks</span><span class="w"> </span><span class="kn">import</span> <span class="n">AbsTaskClassification</span>


<span class="k">class</span><span class="w"> </span><span class="nc">MyClassificationtask</span><span class="p">(</span><span class="n">AbsTaskClassification</span><span class="p">):</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="n">mteb</span><span class="o">.</span><span class="n">TaskMetadata</span><span class="p">(</span>  <span class="c1"># minimal metadata</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;MyClassificationTask&quot;</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A dummy classification just for testing&quot;</span><span class="p">,</span>
        <span class="n">main_score</span><span class="o">=</span><span class="s2">&quot;accuracy&quot;</span><span class="p">,</span>
        <span class="n">eval_langs</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;eng-Latn&quot;</span><span class="p">],</span>
        <span class="n">eval_splits</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;test&quot;</span><span class="p">],</span>
        <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;Classification&quot;</span><span class="p">,</span>
        <span class="n">dataset</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;na&quot;</span><span class="p">,</span> <span class="s2">&quot;revision&quot;</span><span class="p">:</span> <span class="s2">&quot;na&quot;</span><span class="p">},</span>
    <span class="p">)</span>

    <span class="n">label_column_name</span> <span class="o">=</span> <span class="s2">&quot;label&quot;</span>
    <span class="n">input_column_name</span> <span class="o">=</span> <span class="s2">&quot;text&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">load_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_proc</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataset</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;test&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;sample text 1&quot;</span><span class="p">,</span> <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
                <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;sample text 2&quot;</span><span class="p">,</span> <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span>
            <span class="p">]</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_loaded</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div>
which can then be run as follows:
<div class="highlight"><pre><span></span><code><span class="n">task</span> <span class="o">=</span> <span class="n">MyClassificationtask</span><span class="p">()</span>
<span class="n">mdl</span> <span class="o">=</span> <span class="n">mteb</span><span class="o">.</span><span class="n">get_model</span><span class="p">(</span><span class="s2">&quot;mteb/baseline-random-encoder&quot;</span><span class="p">)</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">mteb</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">mdl</span><span class="p">,</span> <span class="n">task</span><span class="p">)</span>
</code></pre></div></p>
</div>
<div class="tabbed-block">
<p>Retrieval tasks often have a more complex structure, with a corpus, queries and relevant documents. Here we implement a dummy retrieval task with a small corpus and a few queries.
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">mteb</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">mteb.abstasks</span><span class="w"> </span><span class="kn">import</span> <span class="n">AbsTaskRetrieval</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">mteb.abstasks.retrieval_dataset_loaders</span><span class="w"> </span><span class="kn">import</span> <span class="n">RetrievalSplitData</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">Dataset</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyRetrievalTask</span><span class="p">(</span><span class="n">AbsTaskRetrieval</span><span class="p">):</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="n">mteb</span><span class="o">.</span><span class="n">TaskMetadata</span><span class="p">(</span>  <span class="c1"># minimal metadata</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;MyRetrievalTask&quot;</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A dummy retrieval task on a community question-answering dataset on android-related questions.&quot;</span><span class="p">,</span>
        <span class="n">main_score</span><span class="o">=</span><span class="s2">&quot;ndcg_at_10&quot;</span><span class="p">,</span>
        <span class="n">eval_langs</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;eng-Latn&quot;</span><span class="p">],</span>
        <span class="n">eval_splits</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;test&quot;</span><span class="p">],</span>
        <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;Retrieval&quot;</span><span class="p">,</span>
        <span class="n">dataset</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;mteb/CQADupstackAndroidRetrieval&quot;</span><span class="p">,</span>
            <span class="s2">&quot;revision&quot;</span><span class="p">:</span> <span class="s2">&quot;9be4c0e46342e8e3aff577a89b9a1ec9bc6b4af3&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="n">prompt</span><span class="o">=</span><span class="s2">&quot;Given a question, retrieve the most relevant question from the corpus.&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">load_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_proc</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># corpus should have `id` and (`text` + `title`)/`image`/`audio` or any combination of these columns</span>
        <span class="n">corpus</span> <span class="o">=</span> <span class="n">Dataset</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span>
            <span class="p">{</span>
                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;doc1&quot;</span><span class="p">,</span> <span class="s2">&quot;doc2&quot;</span><span class="p">,</span> <span class="s2">&quot;doc3&quot;</span><span class="p">],</span>
                <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="s2">&quot;This is the first document.&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;This is the second document.&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;This is the third document.&quot;</span><span class="p">,</span>
                <span class="p">],</span>
                <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Doc 1&quot;</span><span class="p">,</span> <span class="s2">&quot;Doc 2&quot;</span><span class="p">,</span> <span class="s2">&quot;Doc 3&quot;</span><span class="p">],</span>
            <span class="p">}</span>
        <span class="p">)</span>

        <span class="c1"># queries should have `id` and `text`/`image`/`audio` or any combination of these columns</span>
        <span class="n">queries</span> <span class="o">=</span> <span class="n">Dataset</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span>
            <span class="p">{</span>
                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;query1&quot;</span><span class="p">,</span> <span class="s2">&quot;query2&quot;</span><span class="p">],</span>
                <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="s2">&quot;What is the first document about?&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;What is the second document about?&quot;</span><span class="p">,</span>
                <span class="p">],</span>
            <span class="p">}</span>
        <span class="p">)</span>

        <span class="c1"># qrels should be a dictionary `dict[query_id][document_id] = relevance_score`</span>
        <span class="n">qrels</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;query1&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;doc1&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;doc2&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;doc3&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span>
            <span class="s2">&quot;query2&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;doc1&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;doc2&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;doc3&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span>
        <span class="p">}</span>

        <span class="c1"># for reranking only</span>
        <span class="c1"># should be a dictionary `dict[query_id] = [document_id1, document_id2, ...]` with the top ranked documents</span>
        <span class="n">top_ranked</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;query1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;doc1&quot;</span><span class="p">,</span> <span class="s2">&quot;doc2&quot;</span><span class="p">,</span> <span class="s2">&quot;doc3&quot;</span><span class="p">],</span>
            <span class="s2">&quot;query2&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;doc2&quot;</span><span class="p">,</span> <span class="s2">&quot;doc1&quot;</span><span class="p">,</span> <span class="s2">&quot;doc3&quot;</span><span class="p">],</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">dataset</span><span class="p">[</span><span class="s2">&quot;default&quot;</span><span class="p">][</span><span class="s2">&quot;test&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">RetrievalSplitData</span><span class="p">(</span>
            <span class="n">corpus</span><span class="o">=</span><span class="n">corpus</span><span class="p">,</span>
            <span class="n">queries</span><span class="o">=</span><span class="n">queries</span><span class="p">,</span>
            <span class="n">relevant_docs</span><span class="o">=</span><span class="n">qrels</span><span class="p">,</span>
            <span class="n">top_ranked</span><span class="o">=</span><span class="n">top_ranked</span><span class="p">,</span>  <span class="c1"># only for reranking</span>
        <span class="p">)</span>
</code></pre></div>
which can then be run as follows:
<div class="highlight"><pre><span></span><code><span class="n">task</span> <span class="o">=</span> <span class="n">MyRetrievalTask</span><span class="p">()</span>
<span class="n">mdl</span> <span class="o">=</span> <span class="n">mteb</span><span class="o">.</span><span class="n">get_model</span><span class="p">(</span><span class="s2">&quot;mteb/baseline-random-encoder&quot;</span><span class="p">)</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">mteb</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">mdl</span><span class="p">,</span> <span class="n">task</span><span class="p">)</span>
</code></pre></div></p>
</div>
</div>
</div>
</details>
<h3 id="filling-out-the-taskmetadata">Filling out the TaskMetadata<a class="headerlink" href="#filling-out-the-taskmetadata" title="Permanent link">&para;</a></h3>
<p>To run a task locally you do not necessarily need to fill out all the fields in the <code>TaskMetadata</code>, but if you want to include the dataset in
<code>mteb</code> we require that all fields are filled out. This is to ensure that we have enough information about the dataset to be able to include it in the benchmark and to make it easier for users to understand the dataset and its characteristics.</p>
<p>If you are making a PR, feel free to leave fields and <code>None</code> if you are unsure about how to fill. You can always ask about it during the PR.</p>
<p>Here is an example of how to fill out the <code>TaskMetadata</code> for the poem sentiment classification dataset, we implemented above and which is also
available within <code>mteb</code> as <code>PoemSentimentClassification.v2</code>, for more details about the fields see the <a href="../../api/task/#metadata">TaskMetadata documentation</a>.</p>
<div class="highlight"><pre><span></span><code><span class="n">TaskMetadata</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;PoemSentimentClassification.v2&quot;</span><span class="p">,</span>
    <span class="c1"># description should provide a concise overview of the dataset</span>
    <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Poem Sentiment consists of poem verses from Project Gutenberg annotated for sentiment using the labels negative (0), positive (1), no_impact (2), and mixed (3). This version was corrected as part of [pull request](https://github.com/embeddings-benchmark/mteb/pull/2900) to fix common issues in the original dataset, including removing duplicates and train-test leakage.&quot;</span><span class="p">,</span>
    <span class="n">reference</span><span class="o">=</span><span class="s2">&quot;https://arxiv.org/abs/2011.02686&quot;</span><span class="p">,</span>
    <span class="n">dataset</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;mteb/poem_sentiment&quot;</span><span class="p">,</span>
        <span class="s2">&quot;revision&quot;</span><span class="p">:</span> <span class="s2">&quot;9fdc57b89ccc09a8d9256f376112d626878e51a7&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;Classification&quot;</span><span class="p">,</span>
    <span class="n">category</span><span class="o">=</span><span class="s2">&quot;t2c&quot;</span><span class="p">,</span> <span class="c1"># text-2-class</span>
    <span class="n">modalities</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">],</span>
    <span class="n">eval_splits</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;validation&quot;</span><span class="p">,</span> <span class="s2">&quot;test&quot;</span><span class="p">],</span>
    <span class="n">eval_langs</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;eng-Latn&quot;</span><span class="p">],</span>
    <span class="n">main_score</span><span class="o">=</span><span class="s2">&quot;accuracy&quot;</span><span class="p">,</span>
    <span class="n">date</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;1700-01-01&quot;</span><span class="p">,</span> <span class="s2">&quot;1900-01-01&quot;</span><span class="p">),</span> <span class="c1"># a very rough guess of the date range of the poems, we do not have exact dates for all poems</span>
    <span class="n">domains</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Written&quot;</span><span class="p">,</span> <span class="s2">&quot;Fiction&quot;</span><span class="p">,</span> <span class="s2">&quot;Poetry&quot;</span><span class="p">],</span>
    <span class="n">task_subtypes</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Sentiment/Hate speech&quot;</span><span class="p">],</span> <span class="c1"># if no subtypes match then just use []</span>
    <span class="n">license</span><span class="o">=</span><span class="s2">&quot;cc-by-4.0&quot;</span><span class="p">,</span>
    <span class="n">annotations_creators</span><span class="o">=</span><span class="s2">&quot;human-annotated&quot;</span><span class="p">,</span>
    <span class="n">dialect</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;eng-Latn-US&quot;</span><span class="p">,</span> <span class="s2">&quot;en-Latn-GB&quot;</span><span class="p">],</span> <span class="c1"># dialects is often unknown if so just use []</span>
    <span class="n">sample_creation</span><span class="o">=</span><span class="s2">&quot;found&quot;</span><span class="p">,</span> <span class="c1"># the text was not created for the purpose of the dataset, but rather found and annotated</span>
    <span class="n">adapted_from</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;PoemSentimentClassification&quot;</span><span class="p">],</span> <span class="c1"># Previous version of the dataset, can be None</span>
    <span class="n">bibtex_citation</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">@misc{sheng2020investigating,</span>
<span class="s2">  archiveprefix = </span><span class="si">{arXiv}</span><span class="s2">,</span>
<span class="s2">  author = {Emily Sheng and David Uthus},</span>
<span class="s2">  eprint = </span><span class="si">{2011.02686}</span><span class="s2">,</span>
<span class="s2">  primaryclass = </span><span class="si">{cs.CL}</span><span class="s2">,</span>
<span class="s2">  title = {Investigating Societal Biases in a Poetry Composition System},</span>
<span class="s2">  year = </span><span class="si">{2020}</span><span class="s2">,</span>
<span class="s2">}</span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<h3 id="pushing-the-dataset-to-the-hub">Pushing the dataset to the hub<a class="headerlink" href="#pushing-the-dataset-to-the-hub" title="Permanent link">&para;</a></h3>
<p>Once a dataset is added to the repository, it can be pushed to the hub using the <a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;push_dataset_to_hub&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;repo_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num_proc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;push_eval&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;" href="../../api/task/#mteb.AbsTask.push_dataset_to_hub"><code>push_dataset_to_hub</code></a> method. This will reupload the dataset to the hub in the correct format and with all the processing applied. This means that
if you have done some processing in the <code>dataset_transform</code> method, this will be reflected in the dataset pushed to the hub.
You can then update class to utilize the new dataset on the hub and remove the <code>dataset_transform</code> method. This avoid the need to do the processing every time the dataset is loaded, which can be time consuming for large datasets.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">mteb</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyTask</span><span class="p">(</span><span class="o">...</span><span class="p">):</span>
    <span class="o">...</span>

<span class="n">task</span> <span class="o">=</span> <span class="n">MyTask</span><span class="p">()</span>
<span class="n">repo_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;myorg/</span><span class="si">{</span><span class="n">task</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="c1"># Push the dataset to the Hub</span>
<span class="n">task</span><span class="o">.</span><span class="n">push_dataset_to_hub</span><span class="p">(</span><span class="n">repo_name</span><span class="p">)</span>
</code></pre></div>
<h2 id="create-a-pull-request">Create a Pull Request<a class="headerlink" href="#create-a-pull-request" title="Permanent link">&para;</a></h2>
<p>Once you have your task you can create a pull request (PR) to the main repository. To do so place task inside the <a href="https://github.com/embeddings-benchmark/mteb/tree/main/mteb/tasks"><code>mteb/tasks</code></a> directory, and make sure to import the task in the <code>__init__.py</code> file in the same directory.</p>
<h3 id="calculate-descriptive-statistics">Calculate descriptive statistics<a class="headerlink" href="#calculate-descriptive-statistics" title="Permanent link">&para;</a></h3>
<p>Before creating a pull request, it is important to calculate some descriptive statistics about the dataset. This is to ensure that the dataset is not too small, does not contain duplicates and that the documents are not too short. This is important to ensure that the dataset is of high quality and that it can be used to evaluate models in a meaningful way.</p>
<p>To calculate the descriptive statistics, you can simply run <a class="autorefs autorefs-internal" title="&lt;code class=&quot;highlight language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;calculate_descriptive_statistics&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;overwrite_results&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num_proc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;" href="../../api/task/#mteb.AbsTask.calculate_descriptive_statistics"><code>task.calculate_descriptive_statistics()</code></a>.</p>
<h3 id="submit-a-pull-request">Submit a Pull Request<a class="headerlink" href="#submit-a-pull-request" title="Permanent link">&para;</a></h3>
<p>Once added, here is a checklist to ensure that everything works before you submit the PR:</p>
<div class="highlight"><pre><span></span><code><span class="k">- [ ]</span> I have outlined why this dataset is filling an existing gap in <span class="sb">`mteb`</span>
<span class="k">- [ ]</span> I have tested that the dataset runs with the <span class="sb">`mteb`</span> package.
<span class="k">- [ ]</span> I have run the following models on the task (adding the results to the pr). These can be run using the <span class="sb">`mteb run -m {model_name} -t {task_name}`</span> command.
<span class="w">  </span><span class="k">- [ ]</span> <span class="sb">`sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2`</span>
<span class="w">  </span><span class="k">- [ ]</span> <span class="sb">`intfloat/multilingual-e5-small`</span>
<span class="k">- [ ]</span> I have checked that the performance is neither trivial (both models gain close to perfect scores) nor random (both models gain close to random scores).
<span class="k">- [ ]</span> I have considered the size of the dataset and reduced it if it is too big (2048 examples is typically large enough for most tasks)
</code></pre></div>
<p>An easy way to test it is using:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">Python</label><label for="__tabbed_3_2">CLI</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">mteb</span>
<span class="c1"># sample model:</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">mteb</span><span class="o">.</span><span class="n">get_model</span><span class="p">(</span><span class="s2">&quot;sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2&quot;</span><span class="p">)</span>
<span class="n">task</span> <span class="o">=</span> <span class="n">mteb</span><span class="o">.</span><span class="n">get_task</span><span class="p">(</span><span class="s2">&quot;{name of your task}&quot;</span><span class="p">)</span>

<span class="n">results</span> <span class="o">=</span> <span class="n">mteb</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">task</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>mteb<span class="w"> </span>run<span class="w"> </span>-m<span class="w"> </span>sentence-transformers/paraphrase-multilingual-MiniLM<span class="w"> </span>-t<span class="w"> </span><span class="o">{</span>name<span class="w"> </span>of<span class="w"> </span>your<span class="w"> </span>task<span class="o">}</span>
</code></pre></div>
</div>
</div>
</div>
<p>Once submitted the PR will be reviewed by one of the organizers or contributors who might ask you to change things. Once the PR is approved the dataset will be added into the main repository.</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../adding_a_model/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Adding a Model">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Adding a Model
              </div>
            </div>
          </a>
        
        
          
          <a href="../adding_a_benchmark/" class="md-footer__link md-footer__link--next" aria-label="Next: Adding a Benchmark">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Adding a Benchmark
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      This text is freely available under a Creative Commons Attribution 4.0 license
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/embeddings-benchmark/mteb" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.tracking", "navigation.instant", "navigation.tabs", "navigation.sections", "navigation.top", "search.suggest", "search.highlight", "content.action.edit", "content.action.view", "content.code.copy", "content.code.annotate", "content.code.annotation", "content.tabs.link", "content.tooltips", "navigation.footer", "navigation.indexes", "toc.follow"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>