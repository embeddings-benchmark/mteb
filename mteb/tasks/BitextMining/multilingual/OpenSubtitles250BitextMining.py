from __future__ import annotations

from mteb.abstasks.TaskMetadata import TaskMetadata

from ....abstasks import AbsTaskBitextMining, CrosslingualTask

_LANGUAGES_PAIRS = [
    "ka-ml",
    "br-sr",
    "bg-br",
    "kk-lv",
    "br-sk",
    "br-fi",
    "eu-ze_zh",
    "kk-nl",
    "kk-vi",
    "ja-kk",
    "br-sv",
    "kk-zh_cn",
    "kk-ms",
    "br-et",
    "br-hu",
    "eo-kk",
    "br-tr",
    "ko-tl",
    "te-zh_tw",
    "br-hr",
    "br-nl",
    "ka-si",
    "br-cs",
    "br-is",
    "br-ro",
    "br-de",
    "et-kk",
    "fr-hy",
    "br-no",
    "is-ko",
    "br-da",
    "br-en",
    "eo-lt",
    "is-ze_zh",
    "eu-ko",
    "br-it",
    "br-id",
    "eu-zh_cn",
    "is-ja",
    "br-sl",
    "br-gl",
    "br-pt_br",
    "br-es",
    "br-pt",
    "is-th",
    "fa-is",
    "br-ca",
    "eu-ka",
    "is-zh_cn",
    "eu-ur",
    "id-kk",
    "br-sq",
    "eu-ja",
    "uk-ur",
    "is-zh_tw",
    "ka-ko",
    "eu-zh_tw",
    "eu-th",
    "eu-is",
    "is-tl",
    "br-eo",
    "eo-ze_zh",
    "eu-te",
    "ar-kk",
    "eo-lv",
    "ko-ze_zh",
    "ml-ze_zh",
    "is-lt",
    "br-fr",
    "ko-te",
    "kk-sl",
    "eu-fa",
    "eo-ko",
    "ka-ze_en",
    "eo-eu",
    "ta-zh_tw",
    "eu-lv",
    "ko-lv",
    "lt-tl",
    "eu-si",
    "hy-ru",
    "ar-is",
    "eu-lt",
    "eu-tl",
    "eu-uk",
    "ka-ze_zh",
    "si-ze_zh",
    "el-is",
    "bn-is",
    "ko-ze_en",
    "eo-si",
    "cs-kk",
    "is-uk",
    "eu-ze_en",
    "ta-ze_zh",
    "is-pl",
    "is-mk",
    "eu-ta",
    "ko-lt",
    "is-lv",
    "fa-ko",
    "bn-ko",
    "hi-is",
    "bn-ze_zh",
    "bn-eu",
    "bn-ja",
    "is-ml",
    "eu-ru",
    "ko-ta",
    "is-vi",
    "ja-tl",
    "eu-mk",
    "eu-he",
    "ka-zh_tw",
    "ka-zh_cn",
    "si-tl",
    "is-kk",
    "eu-fi",
    "fi-ko",
    "is-ur",
    "ka-th",
    "ko-ur",
    "eo-ja",
    "he-is",
    "is-tr",
    "ka-ur",
    "et-ko",
    "eu-vi",
    "is-sk",
    "gl-is",
    "fr-is",
    "is-sq",
    "hu-is",
    "fr-kk",
    "eu-sq",
    "is-ru",
    "ja-ka",
    "fi-tl",
    "ka-lv",
    "fi-is",
    "is-si",
    "ar-ko",
    "ko-sl",
    "ar-eu",
    "ko-si",
    "bg-is",
    "eu-hu",
    "ko-sv",
    "bn-hu",
    "kk-ro",
    "eu-hi",
    "ka-ms",
    "ko-th",
    "ko-sr",
    "ko-mk",
    "fi-kk",
    "ka-vi",
    "eu-ml",
    "ko-ml",
    "de-ko",
    "fa-ze_zh",
    "eu-sk",
    "is-sl",
    "et-is",
    "eo-is",
    "is-sr",
    "is-ze_en",
    "kk-pt_br",
    "hr-hy",
    "kk-pl",
    "ja-ta",
    "is-ms",
    "hi-ze_en",
    "is-ro",
    "ko-zh_cn",
    "el-eu",
    "ka-pl",
    "ka-sq",
    "eu-sl",
    "fa-ka",
    "ko-no",
    "si-ze_en",
    "ko-uk",
    "ja-ze_zh",
    "hu-ko",
    "kk-no",
    "eu-pl",
    "is-pt_br",
    "bn-lv",
    "tl-zh_cn",
    "is-nl",
    "he-ko",
    "ko-sq",
    "ta-th",
    "lt-ta",
    "da-ko",
    "ca-is",
    "is-ta",
    "bn-fi",
    "ja-ml",
    "lv-si",
    "eu-sv",
    "ja-te",
    "bn-ur",
    "bn-ca",
    "bs-ko",
    "bs-is",
    "eu-sr",
    "ko-vi",
    "ko-zh_tw",
    "et-tl",
    "kk-tr",
    "eo-vi",
    "is-it",
    "ja-ko",
    "eo-et",
    "id-is",
    "bn-et",
    "bs-eu",
    "bn-lt",
    "tl-uk",
    "bn-zh_tw",
    "da-eu",
    "el-ko",
    "no-tl",
    "ko-sk",
    "is-pt",
    "hu-kk",
    "si-zh_tw",
    "si-te",
    "ka-ru",
    "lt-ml",
    "af-ja",
    "bg-eu",
    "eo-th",
    "cs-is",
    "pl-ze_zh",
    "el-kk",
    "kk-sv",
    "ka-nl",
    "ko-pl",
    "bg-ko",
    "ka-pt_br",
    "et-eu",
    "tl-zh_tw",
    "ka-pt",
    "id-ko",
    "fi-ze_zh",
    "he-kk",
    "ka-tr",
]


class OpenSubtitles250BitextMining(AbsTaskBitextMining, CrosslingualTask):
    metadata = TaskMetadata(
        name="OpenSubtitles250",
        dataset={
            "path": "loicmagne/open-subtitles-250-bitext-mining",
            "revision": "7bfe2170068f8e0ee660649f18c3bfff34b11008",
        },
        description="Collection of translated movie subtitles from http://www.opensubtitles.org/ including 250 selected languages pairs",
        reference="http://www.opensubtitles.org/",
        type="BitextMining",
        category="s2s",
        eval_splits=["train"],
        eval_langs=_LANGUAGES_PAIRS,
        main_score="f1",
        date=("1980-01-01", "2018-01-01"),
        form=["spoken"],
        domains=["Spoken", "Fiction", "Non-fiction"],
        task_subtypes=None,
        license="https://www.opensubtitles.org/en/disclaimer",
        socioeconomic_status=None,
        annotations_creators="derived",
        dialect=None,
        text_creation="found",
        bibtex_citation="""@article{lison2016opensubtitles2016,
  title={Opensubtitles2016: Extracting large parallel corpora from movie and tv subtitles},
  author={Lison, Pierre and Tiedemann, J{\"o}rg},
  year={2016},
  publisher={European Language Resources Association}
}""",
        n_samples={"train": 247809},
        avg_character_length={"train": 28.0},
    )
